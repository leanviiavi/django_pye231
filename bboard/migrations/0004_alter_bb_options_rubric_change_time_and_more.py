# Generated by Django 4.2.8 on 2023-12-21 15:01

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('bboard', '0003_alter_bb_rubric'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='bb',
            options={'ordering': ['rubric'], 'verbose_name': 'Объявление', 'verbose_name_plural': 'Объявления'},
        ),
        migrations.AddField(
            model_name='rubric',
            name='change_time',
            field=models.DateTimeField(auto_now=True, db_index=True, verbose_name='Время изменения'),
        ),
        migrations.AlterUniqueTogether(
            name='bb',
            unique_together={('title', 'published')},
        ),
        migrations.AddIndex(
            model_name='bb',
            index=models.Index(condition=models.Q(('price__lte', 10000)), fields=['-published', 'title'], name='bb_main'),
        ),
        migrations.AddIndex(
            model_name='bb',
            index=models.Index(fields=['title', 'price', 'rubric'], name='bboard_bb_title_e42980_idx'),
        ),
    ]
